<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Light Tech - Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="shortcut icon" href="../../Assets/Images/LTFavicon.svg" type="image/x-icon">
  <link rel="stylesheet" href="../../Styles/Dashboard.css" />
  <!-- <link rel="stylesheet" href="./dash2/dash.css"> -->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css" />

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet" />
</head>

<body>
  <!-- DIV PRINCIPAL QUE ALTERA TODO CONTEXTO DA PAGÍNA -->
  <div class="content-page">
    <!-- AQUI É TODO MEU HEADER-->
    <div class="header">
      <h1>
        Dashboard Light Tech
        <p>Seja bem vindo(a)</p>
      </h1>

      <!-- <div class="alerts-context"> -->
      <div class="conta">
        <span class="icon"><i class="bi bi-person-circle"></i></span>
        <span id="linkPage" class="link-page"></span>
      </div>
    </div>

    <!-- <div class="mensagensAlertas">
      <div class="alerta">
        <div class="alertaTitulo">
          <h1>Checar Local X!</h1>
        </div>
        <div class="alertaMensagem" id="alertaMensagemId">

        </div>
        <div class="alertaBotoes">
          <button class="alertaBotao" onclick="sumirAlerta()">Ok</button>
          <a href="locais.html"><button class="alertaBotao">Acessar Locais</button></a>
        </div>
      </div>
    </div> -->

    <!-- AQUI É TODO MEU MENU LATERAL -->
    <div class="content2">
      <div class="menu-lateral">
        <div class="logo">
          <a href="../../Index.html"><img src="../../Assets/Images/LogoFooter.svg" alt="Logo Lightech" /></a>
        </div>

        <div class="btn-expandir">
          <i class="bi bi-list" id="expandir-list"></i>
        </div>

        <ul>
          <li class="item-menu ativo">
            <a href="Dashboard.html">
              <span class="icon"><i class="bi bi-house-heart"></i></span>
              <span class="link-page">Home</span>
            </a>
          </li>
          <li class="item-menu">
            <a href="Locais.html">
              <span class="icon"><i class="bi bi-clipboard-data"></i></span>
              <span class="link-page">Locais</span>
            </a>
          </li>
          <li class="item-menu">
            <a href="Dash-CadastroFuncionario.html">
              <span class="icon"><i class="bi bi-calendar3"></i></span>
              <span class="link-page">Cadastrar</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- AQUI É TODOS GRÁFICOS -->

      <div id="mensagensAlertas" class="mensagensAlertas">
        <!-- <div class="alerta">
          <div class="alertaTitulo">
            <h1>Checar Local X!</h1>
          </div>
          <div class="alertaMensagem" id="alertaMensagemId">

          </div>
          <div class="alertaBotoes">
            <button class="alertaBotao" onclick="sumirAlerta()">Ok</button>
            <a href="locais.html"><button class="alertaBotao">Acessar Locais</button></a>
          </div>
        </div> -->
      </div>

      

      <div class="graficos">
        <div class="alertas">
          <div class="alertaCritc">Crítico (abaixo)</div>
          <div class="txta0">500 lux</div>
        </div>
        <div class="alertas1">
          <div class="alertaAjustavel1">Ajustável</div>
          <div class="txta1"> 500Lux - 700Lux</div>
        </div>
        <div class="alertas2">
          <div class="alertaIdeal">Ideal</div>
          <div class="txta2">700Lux - 800 Lux</div>
        </div>
        <div class="alertas3">
          <div class="alertaAjustavel">Ajustável</div>
          <div class="txta3">800 lux- 900lux</div>
        </div>
        <div class="alertas4">
          <div class="alertaCritico">Crítico (Acima)</div>
          <div class="txta4">900lux</div>
        </div>
        <div class="grafics">
          <div class="type_line1" id>
            <div class="alertasgrafc1" id="typeLine1">
              <!-- <div class="alertaCritc">Crítico (abaixo)</div>
            <div class="alertaCritico">Crítico (Acima)</div> -->
            </div>
            <div class="line1">
              <div id="graphic1"></div>
                 <p><b>Média da luminosidade dos locais hoje:</b></p>
                 <canvas id="myChart1"></canvas>
               </div>
          </div>
      </div>
       
        </div>
      </div>
    </div>
  </div>
</body>

</html>
<script src="../../Scripts/Dashboard.js"></script>
<script src="../../Scripts/Alertas.js"></script>
<script>
  var user = sessionStorage.NOME_USUARIO;
  linkPage.innerHTML = `${user}`

  window.onload = obterdados()


//   function sumirAlerta() {
//     document.querySelector(".mensagensAlertas").style.display = "none";
//   }

//   function obterdados(idAquario) {
//     fetch(`/medidas/tempo-real/${idAquario}`)
//         .then(resposta => {

//             if (resposta.ok) {
//                 resposta.json().then(resposta => {

//                     console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);

//                     var leitura = resposta[0]["round(avg(leitura))"];
//                 });
//             } else {

//                 console.error('Nenhum dado encontrado ou erro na API');
//             }
//         })
//         .catch(function (error) {
//             console.error(`Erro na obtenção dos dados do aquario p/ gráfico: ${error.message}`);
//         });

// }

//   var intervalo = 0;
  

//   document.querySelector(".mensagensAlertas").style.marginLeft = "75rem";

//   if (leitura <= 500) {
//     alertaMensagemId.innerHTML = `<div class="alertaCritc">Crítico (abaixo)</div>`
//   } else if (leitura > 500 && leitura <= 700) {
//     alertaMensagemId.innerHTML = `<div class="alertaAjustavel1">Ajustável</div>`
//   } else if (leitura > 800 && leitura <= 900) {
//     alertaMensagemId.innerHTML = `<div class="alertaAjustavel">Ajustável</div>`
//   } else if (leitura > 900) {
//     alertaMensagemId.innerHTML = `<div class="alertaCritico">Crítico (Acima)</div>`
//   } else {
//     document.querySelector(".mensagensAlertas").style.display = "none";
//   }
  
// function listar() {
//   var idEmpresa = sessionStorage.EMPRESA_USUARIO;
//   console.log("idEmpresa: " + idEmpresa)
//   var url = `/locais/listar/${idEmpresa}`;
//   fetch(url, {
//     method: "GET",
//     headers: {
//       "Content-Type": "application/json;charset=utf-8",
//     },
//   })
//     .then((response) => {
//       return response.json();
//     })
//     .then((data) => {
//       console.log("dados obtidos:" , data[0]);
//       var locais = data;
//       var html = "";
//       for (var i = 0; i < locais.length; i++) {
//         html += `<option value="${locais[i].idLocal}">${locais[i].nomeLocal}</option>`;
//       }
//       document.getElementById("local").innerHTML = html;
//     })
//     .catch((error) => {
//       console.log(error);
//     });
// }
</script>